# Project 2
**Group Members:**
1. Yash Goel, UFID - 51939756
2. Srikruth Reddy Puram, UFID - 70678514

**Outline:**

We have implemented a gossip simulation in Erlang using the Actor Model. We used Maps to store the index and PID as key-value pairs for faster access. We defined certain convergence parameters to dictate when our program terminates. 

## Usage

1. cd the project folder
2. Start erl shell and compile server, topology, gossip_algorithm and push_sum_algorithm using c(file_name).
3. Run server.erl and give the desired parameters (Number of Nodes, Topology, Algorithm).
4. Run topology.erl
5. Run gossip_algorithm.erl 
6. Run push_sum_algorithm.erl
7. Ignore the warning anf follow the inputs generated by code to start gossiping.

## Implementation Details

To run the program, execute server.erl by following the above directions. Then you will be prompted with "Number of Nodes:", "Topology to use:" and "Algorithm to use:", fill the desired values and start gossiping.

**server.erl**
 
This code takes general inputs from the user, builds the desired topology by calling the other module and spawns the processes accordingly whether its gossip algorithm or push sum algorithm. After spawning the processes it handles the time management and terminates the process.

**topology.erl**

This code implement all the given 4 topologies (Line, 2D, Full Network, Imperfect-3D). We also considered the diagonal cases in both 2D and Imperfect 3D cases to implement the desired topology. 

1. Line: Actors are arranged in a line and each actor will have only two neighbors with the exception of the first and last actors.
2. Full Network: Every actor is a neighbor of all other actors.
3. 2D Grid: The actors form a grid structure where each actor will have its adjacent and diagonal actors as its neighbors.
4. Imperfect 3D: It follows the 2D Grid pattern with the addition of one random neighbor to the list of neighbors for each actor.

**gossip_algorithm.erl**

When all nodes get a rumor at least once, we claim that the network has converged and stop sending. We assumed that the Gossip algorithm converges after 90% of the nodes in the network have heard the rumor. We send our PID to server.erl to retrieve the neighbor list, which we then use to transmit the rumor to the appropriate neighbors.

**push_sum.erl**

We designed the Push-sum algorithm so that it converges when the S/W ratio of the network nodes does not change by more than 10-10 in three consecutive message receive rounds. We submit our PID to server.erl to receive the parent's neighbor list, S and W, which we then use to add to the rumor to send to the relevant neighbors.


## Assignment Details

**1. Work Unit:**
1. We varied the number of nodes as a parameter to test the convergence of various topologies.
2. To gain deeper insights, we construct a graph that measures the pace at which distinct topologies converge.

**2. Result for gossip algorithm**

![Convergence_Liner](https://user-images.githubusercontent.com/113138630/194959350-d55e0d42-6d50-4afa-8446-874ef5f1915a.png)
<div align="center"> *Fig.1 Gossip Algorithm - Linear Scale.* </div>\

![Convergence_Log](https://user-images.githubusercontent.com/113138630/194959365-e105d6cd-d9bf-4a1f-9e3f-3ef6635d73dc.png)
<div align="center"> *Fig.2 Gossip Algorithm - Logarithmic Scale.* </div>\


**3. Result for push-sum algorithm**

![Convergence_Liner_Push_Sum](https://user-images.githubusercontent.com/113138630/194963231-e3ed487d-3bb1-4d44-8cbe-92636e283d65.png)
<div align="center"> *Fig.3 Push-Sum Algorithm - Linear Scale.* </div>\

![Convergence_Log_Push_Sum](https://user-images.githubusercontent.com/113138630/194963277-29373317-243b-4541-8fbe-399185109fde.png)
<div align="center"> *Fig.4 Push-Sum Algorithm - Logarithmic Scale.* </div>\


**4. Highlight Points**

1. In both methods, line topology yielded the slowestÂ convergence times. This is owing to the fact that each node has a maximum of two neighbors, resulting in slow network propagation.
2. We expected the full-network topology to have the fastest convergence time due to the interconnectedness between each node, but this was not the case, as evidenced by the findings.
3. Imperfect 2D had the fastest convergence time. This could be because each node has one random neighbor apart from its neighbor, allowing the node to spread the message faster.
4. Gossip and Push-sum algorithm showed nearly similar results but push-sum had slower convergence time due to the reason that it propogates the rumor slowly and the condition for convergence `
